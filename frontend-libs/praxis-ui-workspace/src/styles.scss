/* =============================
 * 2) src/styles.scss
 * ============================= */
@use "theme-dark" as *;
@import '@angular/cdk/overlay-prebuilt.css';


:root {
  --pfx-gap: 16px;
  --pfx-gap-max: 24px;
  --pfx-radius: 14px;
  --pfx-surface: rgba(28, 28, 36, 0.85);
  --pfx-surface-border: rgba(255, 255, 255, 0.08);
  --pfx-backdrop: rgba(14, 14, 23, 0.35);
  --pfx-backdrop-blur: 6px;
}

@media (min-width: 1280px) {
  :root {
    --pfx-gap: var(--pfx-gap-max);
  }
}

/* Backdrop with menu-like blur */
.pfx-blur-backdrop {
  background-color: var(--pfx-backdrop) !important;
  backdrop-filter: blur(var(--pfx-backdrop-blur)) saturate(110%);
  -webkit-backdrop-filter: blur(var(--pfx-backdrop-blur)) saturate(110%);
}

/* Dialog pane halo */
.cdk-overlay-pane.pfx-dialog-pane {
  margin: var(--pfx-gap) !important;
  border-radius: var(--pfx-radius) !important;
  overflow: hidden;
  transition:
    width 0.2s ease,
    height 0.2s ease,
    margin 0.2s ease;
  box-shadow:
    0 20px 60px rgba(0, 0, 0, 0.45),
    0 2px 10px rgba(0, 0, 0, 0.25);
}

/* Frosted surface */
.pfx-dialog-frosted .mat-mdc-dialog-surface {
  background: var(--pfx-surface) !important;
  border: 1px solid var(--pfx-surface-border);
  -webkit-backdrop-filter: blur(8px);
  backdrop-filter: blur(8px);
}

/* Subtle ring */
.cdk-overlay-pane.pfx-dialog-pane::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  box-shadow:
    0 0 0 1px rgba(255, 255, 255, 0.05) inset,
    0 0 0 2px rgba(255, 255, 255, 0.02);
}

/* Header/Footer highlight */
.praxis-dialog .dialog-header,
.praxis-dialog .dialog-footer {
  background: color-mix(in srgb, var(--md-sys-color-surface), transparent 85%);
}

html,
body {
  height: 100%;
}
body {
  margin: 0;
  font-family: Roboto, "Helvetica Neue", sans-serif;
  background-color: var(--background);
  color: var(--text-regular);
  overflow: hidden;
}

/* Scrollbars */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background-color: rgba(255, 255, 255, 0.2);
  border-radius: 8px;
  transition: background-color 0.3s var(--ease-smooth);
}
::-webkit-scrollbar-thumb:hover {
  background-color: #00364d;
}

* {
  scrollbar-width: auto;
  scrollbar-color: #1a2c50 transparent;
}
*:hover {
  scrollbar-color: #222222 transparent;
}

/* Form fields take full width by default */
mat-form-field {
  width: 100%;
}

/* Select menus / options alignment with tokens */
.cdk-overlay-container .mat-mdc-select-panel {
  background: var(--surface-2);
  border: 1px solid var(--border-color);
}
.mat-mdc-option.mdc-list-item--selected {
  background: var(--select-selected-bg) !important;
  color: #000 !important;
}
.mat-mdc-option:hover {
  background: var(--select-hover-bg) !important;
}

/* Cards & elevation */
.mdc-elevation--z4,
.mat-mdc-card {
  box-shadow: var(--elevation-shadow) !important;
}

/* Typography utilities */
.text-primary {
  color: var(--text-primary) !important;
}
.text-secondary {
  color: var(--text-secondary) !important;
}
.text-tertiary {
  color: var(--text-tertiary) !important;
}
.text-caption {
  color: var(--text-caption) !important;
}

/* ===========================
   Dark Harmony — Overrides
   =========================== */
.mdc-theme-dark {
  /* Layers: página vs containers */
  --background: #17191d;
  --surface: #21252b;
  --surface-2: #2a3038;
  --surface-3: #303642;

  --divider-color: rgba(255, 255, 255, 0.08);
  --border-color: rgba(255, 255, 255, 0.1);
  --border-color-hover: rgba(255, 255, 255, 0.18);
  --focus-ring: 0 0 0 3px rgba(72, 161, 255, 0.35);
  --radius-md: 12px;
  --elevation-shadow: 0 10px 20px rgba(0, 0, 0, 0.28);


  /* ===== Mat Table ===== */
  .mat-mdc-table {
    background: var(--surface);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    box-shadow: var(--elevation-shadow);
    overflow: hidden;
  }
  .mat-mdc-header-row {
    background: var(--surface-3);
    border-bottom: 1px solid var(--divider-color);
    font-weight: 600;
  }
  .mat-mdc-row {
    background: var(--surface);
    border-bottom: 1px solid var(--divider-color);
  }
  .mat-mdc-row:nth-child(even) {
    background: var(--surface-2);
  }
  .mat-mdc-row:hover {
    background: color-mix(in oklab, var(--mat-sys-primary) 12%, transparent);
  }

  /* ===== manter o label branco ===== */
  .mdc-text-field__input::placeholder,
  .mat-mdc-floating-label {
    color: rgba(var(--mat-sys-on-surface-rgb), 0.68) !important;
  }

  /* ===== Select / Menu / Autocomplete ===== */
  .mat-mdc-select-panel,
  .mat-mdc-menu-panel,
  .mat-mdc-autocomplete-panel {
    background: var(--surface-2) !important;
    color: var(--mat-sys-on-surface);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    box-shadow: var(--elevation-shadow);
  }
  .mat-mdc-option.mat-mdc-option-active,
  .mat-mdc-option.mdc-list-item--selected {
    background: color-mix(
      in oklab,
      var(--mat-sys-primary) 18%,
      transparent
    ) !important;
  }
  .mat-mdc-option:hover {
    background: rgba(255, 255, 255, 0.06) !important;
  }

  /* ===== Dialog ===== */
  .mat-mdc-dialog-container .mdc-dialog__surface {
    background: var(--surface) !important;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    box-shadow: var(--elevation-shadow);
  }

  /* ===== Cards genéricos (se usar) ===== */
  .mat-mdc-card,
  .panel,
  .card {
    background: var(--surface);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    box-shadow: var(--elevation-shadow);
  }

  .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{
    padding-left: 16px;          /* >= largura do prefix/símbolo */
    --mat-mdc-form-field-label-offset-x: 0;  /* não puxe o label p/ a esquerda */
  }


  /* ===== Hierarquia tipográfica de seção ===== */
  h1,
  .mat-headline-5 {
    font-weight: 600;
  }
  h2,
  .mat-headline-6 {
    font-weight: 600;
    opacity: 0.92;
  }
  .section-title,
  .mat-subtitle-1 {
    opacity: 0.82;
    letter-spacing: 0.2px;
  }
}

.mdc-theme-dark .mat-mdc-table {
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
}

.mdc-theme-dark .mat-mdc-paginator {
  background: var(--surface) !important;
  margin: 0 !important; /* remove faixa vazia */
  border: 1px solid var(--border-color);
  border-top: 0; /* “cola” na tabela */
  border-bottom-left-radius: var(--radius-md);
  border-bottom-right-radius: var(--radius-md);
  box-shadow: var(--elevation-shadow);
}

.mdc-theme-dark .mat-mdc-paginator .mat-mdc-paginator-container {
  padding: 4px 12px; /* altura enxuta */
}

/* Evita quebra e garante uma linha só no rótulo */
.mdc-theme-dark .mat-mdc-floating-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-transform: none;
  line-height: 1.25;
}

.cdk-overlay-pane.praxis-filter-overlay {
  background: var(--surface, #2b2b2b);
  border-radius: 12px;
  box-shadow: var(--elevation-shadow, 0 12px 32px rgba(0,0,0,.35));
  overflow: auto;
}
.cdk-overlay-backdrop.praxis-overlay-backdrop {
  //background: rgba(0,0,0,.48);
  //backdrop-filter: blur(1px);
}



/* Small responsive tweak */
@media (max-width: 599px) {
  :root {
    --spacing-lg: 16px;
    --spacing-xl: 24px;
  }
}
