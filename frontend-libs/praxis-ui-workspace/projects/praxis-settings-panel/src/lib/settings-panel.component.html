<div
  class="settings-panel"
  [style.width.px]="width"
  role="dialog"
  aria-modal="true"
  [attr.aria-labelledby]="titleId"
  cdkTrapFocus
  cdkTrapFocusAutoCapture
>
  <header class="settings-panel-header">
    <h2 class="settings-panel-title" [id]="titleId">{{ title }}</h2>
    <button
      mat-icon-button
      type="button"
      aria-label="Fechar"
      (click)="onCancel()"
    >
      <mat-icon>close</mat-icon>
    </button>
  </header>
  <div class="settings-panel-body">
    <nav class="settings-panel-sections" *ngIf="sections.length > 0">
      <button
        type="button"
        *ngFor="let section of sections; index as i"
        (click)="activeSectionIndex = i"
        [class.active]="i === activeSectionIndex"
      >
        <mat-icon *ngIf="section.icon">{{ section.icon }}</mat-icon>
        <span>{{ section.label }}</span>
      </button>
    </nav>
    <section class="settings-panel-content">
      <ng-template #contentHost></ng-template>
      <ng-container *ngIf="sections[activeSectionIndex] as activeSection">
        <ng-container *ngTemplateOutlet="activeSection.template"></ng-container>
      </ng-container>
    </section>
  </div>
  <footer class="settings-panel-footer">
    <button mat-button type="button" (click)="onReset()">Redefinir</button>
    <span class="spacer"></span>
    <button mat-stroked-button type="button" (click)="onCancel()">
      Cancelar
    </button>
    <button mat-stroked-button type="button" (click)="onApply()">
      Aplicar
    </button>
    <button
      mat-flat-button
      color="primary"
      type="button"
      (click)="onSave()"
      [disabled]="disableSaveButton"
    >
      Salvar &amp; Fechar
    </button>
  </footer>
</div>
